// IMP Projekt 2015/16
// Jakub Pastuszek
// xpastu00
// 30%

// Inspired by glcd_library_1_0

#include "font.h"

const unsigned char TEXT_3x6[0x41][3] = {
						0x00,0x00,0x00, // Space	0x20
						0x00,0x5C,0x00, // !
						0x0C,0x00,0x0C, // "
						0x7C,0x28,0x7C, // #
						0x7C,0x44,0x7C, // 0x
						0x24,0x10,0x48, // %
						0x28,0x54,0x08, // &
						0x00,0x0C,0x00, // '
						0x38,0x44,0x00, // (
						0x44,0x38,0x00, // )
						0x20,0x10,0x08, // //
						0x10,0x38,0x10, // +
						0x80,0x40,0x00, // ,
						0x10,0x10,0x10, // -
						0x00,0x40,0x00, // .
						0x20,0x10,0x08, // /
						0x38,0x44,0x38, // 0	0x30
						0x00,0x7C,0x00, // 1
						0x64,0x54,0x48, // 2
						0x44,0x54,0x28, // 3
						0x1C,0x10,0x7C, // 4
						0x4C,0x54,0x24, // 5
						0x38,0x54,0x20, // 6
						0x04,0x74,0x0C, // 7
						0x28,0x54,0x28, // 8
						0x08,0x54,0x38, // 9
						0x00,0x50,0x00, // :
						0x80,0x50,0x00, // ;
						0x10,0x28,0x44, // <
						0x28,0x28,0x28, // =
						0x44,0x28,0x10, // >
						0x04,0x54,0x08, // ?
						0x38,0x4C,0x5C, // @	0x40
						0x78,0x14,0x78, // A
						0x7C,0x54,0x28, // B
						0x38,0x44,0x44, // C
						0x7C,0x44,0x38, // D
						0x7C,0x54,0x44, // E
						0x7C,0x14,0x04, // F
						0x38,0x44,0x34, // G
						0x7C,0x10,0x7C, // H
						0x00,0x7C,0x00, // I
						0x20,0x40,0x3C, // J
						0x7C,0x10,0x6C, // K
						0x7C,0x40,0x40, // L
						0x7C,0x08,0x7C, // M
						0x7C,0x04,0x7C, // N
						0x7C,0x44,0x7C, // O
						0x7C,0x14,0x08, // P	0x50
						0x38,0x44,0x78, // Q
						0x7C,0x14,0x68, // R
						0x48,0x54,0x24, // S
						0x04,0x7C,0x04, // T
						0x7C,0x40,0x7C, // U
						0x3C,0x40,0x3C, // V
						0x7C,0x20,0x7C, // W
						0x6C,0x10,0x6C, // X
						0x1C,0x60,0x1C, // Y
						0x64,0x54,0x4C, // Z
						0x7C,0x44,0x00, // [
						0x08,0x10,0x20, // \.
						0x44,0x7C,0x00, // ]
						0x08,0x04,0x08, // ^
						0x80,0x80,0x80, // _
						0x04,0x08,0x00 // `	0x60
};

const unsigned char TEXT_5x7[95][5] ={
						 0x00, 0x00, 0x00, 0x00, 0x00, // SPACE
                         0x00, 0x00, 0x5F, 0x00, 0x00, // !
                         0x00, 0x03, 0x00, 0x03, 0x00, // "
                         0x14, 0x3E, 0x14, 0x3E, 0x14, // #
                         0x24, 0x2A, 0x7F, 0x2A, 0x12, // $
                         0x43, 0x33, 0x08, 0x66, 0x61, // %
                         0x36, 0x49, 0x55, 0x22, 0x50, // &
                         0x00, 0x05, 0x03, 0x00, 0x00, // '
                         0x00, 0x1C, 0x22, 0x41, 0x00, // (
                         0x00, 0x41, 0x22, 0x1C, 0x00, // )
                         0x14, 0x08, 0x3E, 0x08, 0x14, // *
                         0x08, 0x08, 0x3E, 0x08, 0x08, // +
                         0x00, 0x50, 0x30, 0x00, 0x00, // ,
                         0x08, 0x08, 0x08, 0x08, 0x08, // -
                         0x00, 0x60, 0x60, 0x00, 0x00, // .
                         0x20, 0x10, 0x08, 0x04, 0x02, // /
                         0x3E, 0x51, 0x49, 0x45, 0x3E, // 0
                         0x04, 0x02, 0x7F, 0x00, 0x00, // 1
                         0x42, 0x61, 0x51, 0x49, 0x46, // 2
                         0x22, 0x41, 0x49, 0x49, 0x36, // 3
                         0x18, 0x14, 0x12, 0x7F, 0x10, // 4
                         0x27, 0x45, 0x45, 0x45, 0x39, // 5
                         0x3E, 0x49, 0x49, 0x49, 0x32, // 6
                         0x01, 0x01, 0x71, 0x09, 0x07, // 7
                         0x36, 0x49, 0x49, 0x49, 0x36, // 8
                         0x26, 0x49, 0x49, 0x49, 0x3E, // 9
                         0x00, 0x36, 0x36, 0x00, 0x00, // :
                         0x00, 0x56, 0x36, 0x00, 0x00, // ;
                         0x08, 0x14, 0x22, 0x41, 0x00, // <
                         0x14, 0x14, 0x14, 0x14, 0x14, // =
                         0x00, 0x41, 0x22, 0x14, 0x08, // >
                         0x02, 0x01, 0x51, 0x09, 0x06, // ?
                         0x3E, 0x41, 0x59, 0x55, 0x5E, // @
                         0x7E, 0x09, 0x09, 0x09, 0x7E, // A
                         0x7F, 0x49, 0x49, 0x49, 0x36, // B
                         0x3E, 0x41, 0x41, 0x41, 0x22, // C
                         0x7F, 0x41, 0x41, 0x41, 0x3E, // D
                         0x7F, 0x49, 0x49, 0x49, 0x41, // E
                         0x7F, 0x09, 0x09, 0x09, 0x01, // F
                         0x3E, 0x41, 0x41, 0x49, 0x3A, // G
                         0x7F, 0x08, 0x08, 0x08, 0x7F, // H
                         0x00, 0x41, 0x7F, 0x41, 0x00, // I
                         0x30, 0x40, 0x40, 0x40, 0x3F, // J
                         0x7F, 0x08, 0x14, 0x22, 0x41, // K
                         0x7F, 0x40, 0x40, 0x40, 0x40, // L
                         0x7F, 0x02, 0x0C, 0x02, 0x7F, // M
                         0x7F, 0x02, 0x04, 0x08, 0x7F, // N
                         0x3E, 0x41, 0x41, 0x41, 0x3E, // O
                         0x7F, 0x09, 0x09, 0x09, 0x06, // P
                         0x1E, 0x21, 0x21, 0x21, 0x5E, // Q
                         0x7F, 0x09, 0x09, 0x09, 0x76, // R
						 0x26, 0x49, 0x49, 0x49, 0x32, // S
                         0x01, 0x01, 0x7F, 0x01, 0x01, // T
                         0x3F, 0x40, 0x40, 0x40, 0x3F, // U
                         0x1F, 0x20, 0x40, 0x20, 0x1F, // V
                         0x7F, 0x20, 0x10, 0x20, 0x7F, // W
                         0x41, 0x22, 0x1C, 0x22, 0x41, // X
                         0x07, 0x08, 0x70, 0x08, 0x07, // Y
                         0x61, 0x51, 0x49, 0x45, 0x43, // Z
                         0x00, 0x7F, 0x41, 0x00, 0x00, // [
                         0x02, 0x04, 0x08, 0x10, 0x20, // \.
                         0x00, 0x00, 0x41, 0x7F, 0x00, // ]
                         0x04, 0x02, 0x01, 0x02, 0x04, // ^
                         0x40, 0x40, 0x40, 0x40, 0x40, // _
                         0x00, 0x01, 0x02, 0x04, 0x00, // `
                         0x20, 0x54, 0x54, 0x54, 0x78, // a
                         0x7F, 0x44, 0x44, 0x44, 0x38, // b
                         0x38, 0x44, 0x44, 0x44, 0x44, // c
                         0x38, 0x44, 0x44, 0x44, 0x7F, // d
                         0x38, 0x54, 0x54, 0x54, 0x18, // e
                         0x04, 0x04, 0x7E, 0x05, 0x05, // f
                         0x08, 0x54, 0x54, 0x54, 0x3C, // g
                         0x7F, 0x08, 0x04, 0x04, 0x78, // h
                         0x00, 0x44, 0x7D, 0x40, 0x00, // i
                         0x20, 0x40, 0x44, 0x3D, 0x00, // j
                         0x7F, 0x10, 0x28, 0x44, 0x00, // k
                         0x00, 0x41, 0x7F, 0x40, 0x00, // l
                         0x7C, 0x04, 0x78, 0x04, 0x78, // m
                         0x7C, 0x08, 0x04, 0x04, 0x78, // n
                         0x38, 0x44, 0x44, 0x44, 0x38, // o
                         0x7C, 0x14, 0x14, 0x14, 0x08, // p
                         0x08, 0x14, 0x14, 0x14, 0x7C, // q
                         0x00, 0x7C, 0x08, 0x04, 0x04, // r
                         0x48, 0x54, 0x54, 0x54, 0x20, // s
                         0x04, 0x04, 0x3F, 0x44, 0x44, // t
                         0x3C, 0x40, 0x40, 0x20, 0x7C, // u
                         0x1C, 0x20, 0x40, 0x20, 0x1C, // v
                         0x3C, 0x40, 0x30, 0x40, 0x3C, // w
                         0x44, 0x28, 0x10, 0x28, 0x44, // x
                         0x0C, 0x50, 0x50, 0x50, 0x3C, // y
                         0x44, 0x64, 0x54, 0x4C, 0x44, // z
                         0x00, 0x08, 0x36, 0x41, 0x41, // {
                         0x00, 0x00, 0x7F, 0x00, 0x00, // |
                         0x41, 0x41, 0x36, 0x08, 0x00, // }
                         0x02, 0x01, 0x02, 0x04, 0x02  // ~
};

unsigned char glcd_x=0, glcd_y=0;

//Write text string in 3x6 font on a graphic LCD
//param: textptr	pointer to string
//		 shiftX		shift char (next char)
//		 shiftY		shift line (new line)
//help: 24 x 4 chars can be displayed
void GLCD_text36(unsigned char* textptr, unsigned char shiftX, unsigned char shiftY)
{
	glcd_x = shiftX * 4;
	glcd_y = shiftY;
    for(; *textptr != '\0'; ++textptr) 					// Loop through the passed string
    {
    	GLCD_putc36(*textptr);
    }
}

//Write text string in 5x7 font on a graphic LCD
//param: textptr	pointer to string
//		 shiftX		shift char (next char)
//		 shiftY		shift line (new line)
//help: 20 x 4 chars can be displayed
void GLCD_text57(unsigned char* textptr, unsigned char shiftX, unsigned char shiftY)
{
	glcd_x = shiftX * 6;
	glcd_y = shiftY;
    for(; *textptr != '\0'; ++textptr) 					// Loop through the passed string
    {
    	GLCD_putc57(*textptr);
    }
}

//Write a char on a graphic LCD using the 3x6 bit font
//param: c		char to write
void GLCD_putc36(unsigned char c)
{
    unsigned char j;                     // Loop counter

	if(c == '\n') { glcd_y++; glcd_x = 0; return; }

    if(c < 0x20 || c > 0x60) // Checks if the letter is in the first text array
       c = ' ';   // Default to space

    for(j=0; j<3; ++j) {        // Loop through character byte data
    	GLCD_WriteData(glcd_x++, glcd_y, TEXT_3x6[c-' '][j]); // Draws the pixel
    }

    GLCD_WriteData(glcd_x++, glcd_y, WHITE); // Draws space
}

//Write a char on a graphic LCD using the 3x6 bit font
//param: c		char to write
void GLCD_putc57(unsigned char c)
{
    unsigned char j;                     // Loop counter

	if(c == '\n') { glcd_y++; glcd_x = 0; return; }

    if(c < 0x20 || c > 0x60) // Checks if the letter is in the first text array
       c = ' ';   // Default to space

    for(j=0; j<5; ++j) {        // Loop through character byte data
    	GLCD_WriteData(glcd_x++, glcd_y, TEXT_5x7[c-' '][j]); // Draws the pixel
    }

    GLCD_WriteData(glcd_x++, glcd_y, WHITE); // Draws space
}
